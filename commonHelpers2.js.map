{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n    email: '',\n    message: '',\n};\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst emailInput = form.querySelector('input');\nconst messageTextarea = form.querySelector('textarea')\n\nfunction saveToLS() {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction loadFromLS(key) { \n    const json = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(json);\n        return data;\n    } catch {\n        return json;\n    }\n}\n\nform.addEventListener('input', (e) => {\n    formData[e.target.name] = e.target.value;\n    saveToLS();\n})\n \n// function validForm() {\n//     if (messageTextarea.value === '' || emailInput.value === '') { return false }\n// else { return true}\n// }\n\n\n\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const savedData = loadFromLS(STORAGE_KEY);\n    if (savedData) {\n        form.elements.email.value = formData.email;\n        form.elements.message.value = formData.message;\n}\n})\n \nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    if (messageTextarea.value === '' || emailInput.value === '') { alert('Fill please all fields')  }\n    // const formData = new FormData(form);\n    // const email = formData.get('email');\n    // const message = formData.get('message');\n    // const data = { email, message };\n    console.log(formData);\n    formData = {email:'', message:''}\n    form.reset();\n    localStorage.removeItem('feedback-form-state');\n   \n});\n\n"],"names":["formData","STORAGE_KEY","form","emailInput","messageTextarea","saveToLS","loadFromLS","key","json"],"mappings":"wFAAA,IAAIA,EAAW,CACX,MAAO,GACP,QAAS,EACb,EACA,MAAMC,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,cAAc,OAAO,EACvCE,EAAkBF,EAAK,cAAc,UAAU,EAErD,SAASG,GAAW,CAChB,aAAa,QAAQJ,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC9D,CAEA,SAASM,EAAWC,EAAK,CACrB,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMC,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL,CAEAN,EAAK,iBAAiB,QAAU,GAAM,CAClCF,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MACnCK,GACJ,CAAC,EAUD,OAAO,iBAAiB,mBAAoB,IAAM,CAC5BC,EAAWL,CAAW,IAEpCC,EAAK,SAAS,MAAM,MAAQF,EAAS,MACrCE,EAAK,SAAS,QAAQ,MAAQF,EAAS,QAE/C,CAAC,EAEDE,EAAK,iBAAiB,SAAW,GAAM,CACnC,EAAE,eAAc,GACZE,EAAgB,QAAU,IAAMD,EAAW,QAAU,KAAM,MAAM,wBAAwB,EAK7F,QAAQ,IAAIH,CAAQ,EACpBA,EAAW,CAAC,MAAM,GAAI,QAAQ,EAAE,EAChCE,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,CAEjD,CAAC"}